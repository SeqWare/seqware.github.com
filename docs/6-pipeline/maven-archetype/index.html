<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>SeqWare › Maven Archetype</title>
<meta content="nanoc 3.7.1" name="generator">
<link href="../../../assets/style-v17.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://feeds.feedburner.com/seqware" rel="alternate" title="The SeqWare Blog" type="application/atom+xml">
<script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-34523087-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script><script type="text/javascript">         var disqus_shortname = 'seqware';          (function() {             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;             dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);         })();     </script>
</head>
<body>
<div class="wrapper">
<!-- ***** navigation ***** -->
<div class="nav">
<ol>
<li><a href="../../../"><span>Home</span></a></li>
<li><a href="../../../blog/"><span>News</span></a></li>
<li><a href="../../"><span>Documentation</span></a></li>
<li><a href="../../../community/"><span>Community</span></a></li>
<li><a href="../../../partners/"><span>Partners</span></a></li>
<li><a href="../../../about/"><span>About</span></a></li>
</ol>
</div>
<!-- ***** sidebar ***** -->
<div class="side">
<ol>
<li><a href="../../1-introduction/"><span>Introduction to SeqWare</span></a></li>
<li><a href="../../2-installation/"><span>Installation</span></a></li>
<li><a href="../../3-getting-started/"><span>Getting Started</span></a></li>
<li>
<a href="../"><span>SeqWare Pipeline</span></a><ol class="toc"><li><a href="#working-on-your-own-workflows">Working on your own Workflows</a></li></ol>
</li>
<li><a href="../../4-metadb/"><span>SeqWare MetaDB</span></a></li>
<li><a href="../../5-portal/"><span>SeqWare Portal</span></a></li>
<li><a href="../../7-web-service/"><span>SeqWare Web Service</span></a></li>
<li><a href="../../8-query-engine/"><span>SeqWare Query Engine</span></a></li>
<li><a href="../../9-glossary/"><span>Glossary</span></a></li>
<li><a href="../../10-faq/"><span>Frequently Asked Questions</span></a></li>
<li><a href="../../11-api/"><span>APIs</span></a></li>
<li><a href="../../13-code/"><span>Source Code</span></a></li>
<li><a href="../../17-plugins/"><span>Plugins</span></a></li>
<li><a href="../../17a-modules/"><span>Modules</span></a></li>
<li><a href="../../26-advanced-topics/"><span>Advanced Topics</span></a></li>
</ol>
</div>
<!-- ***** body ***** -->
<div class="body">
<div class="article">
<div class="header">
<h1>Maven Archetype</h1>
</div>
<div class="section" id="working-on-your-own-workflows">
<h2>Working on your own Workflows</h2>

<p>Going back to creation of new workflows in the maven-bundles directory, we will explain some of the magic numbers and settings that we skipped over while demoing workflow launching. </p>

<p>Assuming one uses the Java workflow, use the following options after mvn archetype:generate</p>

<pre><code>    Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): 16: 62
Define value for property 'package': : net.sf.seqware
Define value for property 'groupId':  net.sf.seqware: : 
Define value for property 'workflow-name': : MyHelloWorld
Define value for property 'artifactId':  workflow-MyHelloWorld: : 
Define value for property 'version':  1.0-SNAPSHOT: : 1.0
[INFO] Using property: package = net.sf.seqware
Confirm properties configuration:
package: net.sf.seqware
groupId: net.sf.seqware
workflow-name: MyHelloWorld
artifactId: workflow-MyHelloWorld
version: 1.0
package: net.sf.seqware
 Y: : Y
[INFO] ----------------------------------------------------------------------------
[INFO] Using following parameters for creating project from Archetype: seqware-archetype-java-workflow:1.0.8-SNAPSHOT
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: groupId, Value: net.sf.seqware
[INFO] Parameter: artifactId, Value: workflow-MyHelloWorld
[INFO] Parameter: version, Value: 1.0
[INFO] Parameter: package, Value: net.sf.seqware
[INFO] Parameter: packageInPathFormat, Value: net/sf/seqware
[INFO] Parameter: version, Value: 1.0
[INFO] Parameter: package, Value: net.sf.seqware
[INFO] Parameter: groupId, Value: net.sf.seqware
[INFO] Parameter: workflow-name, Value: MyHelloWorld
[INFO] Parameter: artifactId, Value: workflow-MyHelloWorld
    [INFO] project created from Archetype in dir: /home/seqware/SeqWare/maven-bundles/workflow-MyHelloWorld
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESSFUL
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 4 minutes 35 seconds
    [INFO] Finished at: Fri Nov 23 14:45:24 EST 2013
    [INFO] Final Memory: 23M/166M
    [INFO] ------------------------------------------------------------------------
</code></pre>

<p>Note the following conventions:</p>

<ul>
<li>
    <dl>
<dt>package</dt>
      <dd>The Java package to place the workflow. Usually, we use the reversed domain of the primary project, e.g. net.github.seqware or ca.on.oicr.pde</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>groupId</dt>
      <dd>Usually identical to the package. The workflow belongs to this group. This group id is part of the workflow’s unique Maven identity.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflowName</dt>
      <dd>A unique camel case workflow name. This will also be used as the name of the directory containing all the files associated with this workflow.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>artifactId</dt>
      <dd>The specific name of the workflow. Also part of the workflow’s unique Maven identity. The archetype defaults to workflow${workflowName}</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>version</dt>
      <dd>The version of this workflow. Again, part of the workflow’s unique identity. When maintaining the code in the future it will be possible to update this value.</dd>
    </dl>
</li>
</ul>
<!-- this explicit pre tag should be avoided, but the automatic nanoc formatting does not 
seem to work here --><pre>
        $ cd workflow-MyHelloWorld
        $ ls
        pom.xml src workflow  workflow.properties
</pre>

<ul>
<li>
    <dl>
<dt>pom.xml</dt>
      <dd>A Maven project file. Edit this to change the version of the workflow and to add or modify workflow dependencies such as program, modules and data.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflow</dt>
      <dd>This directory contains the workflow skeleton. Look in here to modify the workflow .ini, .java files (Java workflow) or workflow.ftl(FTL workflow). The examples of Java and FTL can be found <a href="../../15-workflow-examples/">here</a>.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>src </dt>
      <dd>This directory contains the Java client. Look in here to modify the .java files (Java workflow). The examples of Java and FTL can be found <a href="../../15-workflow-examples/">here</a>.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflow.properties</dt>
      <dd>You can edit the description and workflow names in this file.</dd>
    </dl>
</li>
</ul>
<div class="section" id="variables">
<h4>Variables</h4>

<p>Automatically Defined</p>

<ul>
<li>
    <p>${date}: a string representing the date the DAX was created, this is always defined so consider this a reserved variable name. </p>
  </li>
  <li>
    <p>${random}: a randomly generated string, this is always defined so consider this a reserved variable name. </p>
  </li>
  <li>
    <p>${workflow_bundle_dir}: if this workflow is part of a workflow bundle this variable will be defined and points to the path of the root of the directory this workflow bundle has been expanded to. </p>
  </li>
  <li>
    <p>${workflow_base_dir}: ${workflow_bundle_dir}/Workflow_Bundle_{workflow_name}/{workflow_version}</p>
  </li>
</ul>
</div>
</div>
</div>
<p> </p>
<p> </p>
<div id="disqus_thread"></div>
</div>
</div>
<!-- ***** footer ***** -->
<div id="footer">
<p>SeqWare © 2007–2014 Brian O&#8217;Connor. SeqWare is released under the a <a rel="license" href="http://www.gnu.org/licenses/licenses.html">GNU GPL v3</a>. This site is built using the excellent <a href="http://nanoc.ws/">nanoc</a> tool and example site along with the <a href="http://www.fonts.info/info/press/free-fonts-for-font-face-embedding.htm">Graublau</a> and <a href="https://en.wikipedia.org/wiki/Gentium">Gentium</a> fonts.</p>
</div>
</body>
</html>