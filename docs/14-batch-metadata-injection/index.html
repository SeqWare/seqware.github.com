<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>SeqWare › Batch Metadata Injection</title>
<meta content="nanoc 3.7.1" name="generator">
<link href="../../assets/style-v17.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://feeds.feedburner.com/seqware" rel="alternate" title="The SeqWare Blog" type="application/atom+xml">
<script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-34523087-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script><script type="text/javascript">         var disqus_shortname = 'seqware';          (function() {             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;             dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);         })();     </script>
</head>
<body>
<div class="wrapper">
<!-- ***** navigation ***** -->
<div class="nav">
<ol>
<li><a href="../../"><span>Home</span></a></li>
<li><a href="../../blog/"><span>News</span></a></li>
<li><a href="../"><span>Documentation</span></a></li>
<li><a href="../../community/"><span>Community</span></a></li>
<li><a href="../../partners/"><span>Partners</span></a></li>
<li><a href="../../about/"><span>About</span></a></li>
</ol>
</div>
<!-- ***** sidebar ***** -->
<div class="side">
<ol>
<li><a href="../1-introduction/"><span>Introduction to SeqWare</span></a></li>
<li><a href="../2-installation/"><span>Installation</span></a></li>
<li><a href="../3-getting-started/"><span>Getting Started</span></a></li>
<li><a href="../6-pipeline/"><span>SeqWare Pipeline</span></a></li>
<li><a href="../4-metadb/"><span>SeqWare MetaDB</span></a></li>
<li><a href="../5-portal/"><span>SeqWare Portal</span></a></li>
<li><a href="../7-web-service/"><span>SeqWare Web Service</span></a></li>
<li><a href="../8-query-engine/"><span>SeqWare Query Engine</span></a></li>
<li><a href="../9-glossary/"><span>Glossary</span></a></li>
<li><a href="../10-faq/"><span>Frequently Asked Questions</span></a></li>
<li><a href="../11-api/"><span>APIs</span></a></li>
<li><a href="../13-code/"><span>Source Code</span></a></li>
<li><a href="../17-plugins/"><span>Plugins</span></a></li>
<li><a href="../17a-modules/"><span>Modules</span></a></li>
</ol>
</div>
<!-- ***** body ***** -->
<div class="body">
<div class="article">
<div class="header">
<h1>Batch Metadata Injection</h1>
</div>
<p>The Batch Metadata Injection plugin is a plugin which allows you to insert data directly into the database. There is an interactive mode featured in the plugin which will allow you to interactively enter in the data, or you could import in a JSON file with the required data in it. You are are also able to export your results into a json format.</p>

<div class="section" id="requirements">
<h2>Requirements</h2>

<p>In order to run the plugin, you need:</p>

<ul>
<li>Seqware Pipeline Jar</li>
<li>SeqWare settings file set up to contact the SeqWare Web service (contact your local SeqWare admin to get the path)</li>
</ul>
</div>
<div class="section" id="command-line-parameters">
<h2>Command Line Parameters</h2>

<p>The BMI plugin takes in the following parameters:</p>

<table>
<th>
    </th>
<tr>
<th>Command-line option</th>
        <th>Description</th>
    </tr>
<tr>
<td>–c, –create</td>
        <td>Optional: indicates you want to create a new row, must supply –table and all the required –field params.</td>
    </tr>
<tr>
<td>–export-json-sequencer-run</td>
        <td> The data entered will be exported as a JSON document. The argument should be the location of where you wish to place said document.</td>
    </tr>
<tr>
<td>–f, –field</td>
        <td>Optional: the field you are interested in writing. This is encoded as &#8220;&lt;field_name&gt;::&lt;value&gt;&#8221;. You should use single quotes when the value includes spaces. You can supply multiple –field arguments for a given table insert.
    </td>
    </tr>
<tr>
<td>–file</td>
        <td>Optional: one file option can be specified when you create a file, one or more –file options can be specified when you create a workflow run. This is encoded as &#8220;&lt;algorithm&gt;::&lt;file-meta-type&gt;::&lt;file-path&gt;&#8221;. You should use single quotes when the value includes spaces.
        </td>
    </tr>
<tr>
<td>–import-json-sequencer-run</td>
        <td>Allows you to choose a valid JSON file to import into the database. The argument should be the location of the JSON file.
        </td>
    </tr>
<tr>
<td>–interactive</td>
        <td>Optional: turn on interactive input</td>
    </tr>
<tr>
<td>–lf, –list-fields</td>
        <td>Optional: if provided along with the –table option this will list out the fields for that table and their type.</td>
    </tr>
<tr>
<td>–list-tables, –lt</td>
        <td>Optional: if provided will list out the tables this tools knows how to read and/or write to.</td>
    </tr>
<tr>
<td>–miseq-sample-sheet</td>
        <td>The location of the Miseq Sample Sheet</td>
    </tr>
<tr>
<td>–new</td>
        <td>Create a new study from scratch. Used instead of miseq-sample-sheet</td>
    </tr>
<tr>
<td>–of, –output-file</td>
        <td>Optional: if provided along with the –list or –list-tables options this will cause the output list of rows/tables to be written to the file specified rather than stdout.</td>
    </tr>
<tr>
<td>–parent-accession</td>
        <td>Optional: one or more –parent-accession options can be specified when you create a workflow_run.</td>
    </tr>
<tr>
<td>–record</td>
        <td>Optional: saves information about the injection in a text file</td>
    </tr>
<tr>
<td>–t, –table</td>
        <td>Required: the table you are interested in reading or writing.</td>
    </tr>
<tr>
<td>–validate-json-sequencer-run</td>
        <td>The JSON file which you wish to validate</td>
    </tr>
</table>
</div>
<div class="section" id="examples">
<h2>Examples</h2>

<p>Imports in a new study into the database from a JSON file</p>

<pre><code>java -jar seqware-distribution/target/seqware-distribution-1.0.11-full.jar --plugin net.sourceforge.seqware.pipeline.plugins.BatchMetadataInjection -- --import-json-sequencer-run input.json
</code></pre>

<p>Creates a new study, populates the fields interactively and then exports it as a JSON file</p>

<pre><code>java -jar seqware-distribution/target/seqware-distribution-1.0.11-full.jar --plugin net.sourceforge.seqware.pipeline.plugins.BatchMetadataInjection -- --new --interactive --export-json-sequencer-run hello.json
</code></pre>

<p>Validates the JSON file</p>

<pre><code>java -jar seqware-distribution/target/seqware-distribution-1.0.11-full.jar --plugin net.sourceforge.seqware.pipeline.plugins.BatchMetadataInjection -- --validate-json-sequencer-run validateMe.json
</code></pre>

</div>
<div class="section" id="viewing-results">
<h2>Viewing Results</h2>

<p>You can view if your data has been inputted correctly by connecting to the webservice via the URL http://host:port/seqware-webservice/{field}, where field is the property which you wish to look at. See <a href="http://seqware.github.com/seqware/">http://seqware.github.com/seqware/</a> for more detail.</p>
</div>
</div>
<p> </p>
<p> </p>
<div id="disqus_thread"></div>
</div>
</div>
<!-- ***** footer ***** -->
<div id="footer">
<p>SeqWare © 2007–2014 Brian O&#8217;Connor. SeqWare is released under the a <a rel="license" href="http://www.gnu.org/licenses/licenses.html">GNU GPL v3</a>. This site is built using the excellent <a href="http://nanoc.ws/">nanoc</a> tool and example site along with the <a href="http://www.fonts.info/info/press/free-fonts-for-font-face-embedding.htm">Graublau</a> and <a href="https://en.wikipedia.org/wiki/Gentium">Gentium</a> fonts.</p>
</div>
</body>
</html>